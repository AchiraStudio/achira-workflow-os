# Achira Workflow Enhancements & Improvements

Based on an analysis of the current `achira-wf` CLI, the workflow guides, and the universal `SKILL.md` standards, here is a comprehensive list of actionable improvements to enhance automation, developer experience (DX), and robustness.

## 1. CLI Improvements (`cli.js`)

- **Prevent Overwriting Data Unintentionally:** Currently, `fs.copy(src, dest, { overwrite: true })` blindly overwrites existing `.achira-workflow` folders. We should add a check to prompt the user or require a `--force` flag if the directory already exists.
- **Dynamic Package Info:** Use `package.json` to dynamically inject the version number into the CLI instead of hardcoding `.version('2.0.0')`.
- **Global Command Availability:** Ensure the instructions mention publishing to `npm` so developers can run `npx achira-wf init` anywhere without globally installing it.
- **Add an `update` Command:** Create an `achira-wf update` command to pull the latest versions of the workflows/skills from a central repository or gist, keeping existing projects up-to-date with your evolving standards.
- **Scaffold Direct Execution:** Consider adding commands like `achira-wf create react-vite` that programmatically execute the steps inside your markdown files, bypassing the need for an AI agent to read and manually run them.

## 2. Workflow Enhancements (`.achira-workflow/workflows/`)

### A. React + Vite (`react+vite.md`)

- **Fix `vite.config.js` ESM Compatibility:** In standard Vite projects (which use ES Modules), `__dirname` is not defined by default. The alias configuration should use `import { fileURLToPath, URL } from 'node:url'` to prevent reference errors, or rely on Vite's native resolution.
- **Missing `jsconfig.json` / `tsconfig.json`:** Absolute imports (`@/`) won't be recognized by VS Code IntelliSense without a `jsconfig.json` or `tsconfig.json` file configuring `compilerOptions.paths`.
- **Testing Implementation:** Your `SKILL.md` mentions `Home.test.jsx`, but the Vite workflow doesn't install or configure any testing library (like `vitest` or `@testing-library/react`).
- **Linter Configuration:** The workflow installs `eslint-config-prettier` but doesn't actually provide the `.eslintrc.cjs` or `.prettierrc` configuration files to make them work.

### B. Next.js (`next.js.md`)

- **Missing Crucial Dependencies:** The markdown text (and `SKILL.md`) references using `Zustand` for global state and `Zod` for env validation, but these aren't included in the initial `npm install` command.
- **Path Alias Verification:** Ensure the `tsconfig.json` generated by `create-next-app` is explicitly updated to reflect the absolute import paths defined in your architecture.
- **Folder Structure Clarification:** The workflow creates `src/styles/` for CSS modules, while Next.js App router heavily favors `globals.css` and collocated styles. Be explicit on when to use `src/styles/` versus component-level CSS.

### C. Vanilla HTML + JS + CSS (`html+js+css.md`)

- **Modern Dev Server:** Replace `live-server` with `vite`. Vite requires zero configuration for vanilla HTML/JS/CSS projects, provides instantaneous Hot Module Replacement (HMR) out-of-the-box, and handles asset optimization automatically for production builds.
- **JSDoc Support:** Add a step to configure a simple `jsconfig.json` with `"checkJs": true`. This enables TypeScript-like error checking and intellisense in vanilla JS files via JSDoc comments.

## 3. Architecture & Standards (`SKILL.md`)

- **Git & Commit Standards:** Add a section explicitly detailing Git workflows (e.g., using Conventional Commits `feat:`, `fix:`, `chore:`) to ensure team members commit consistently.
- **CI/CD Pipeline Considerations:** Mention the standard for continuous integration (like GitHub Actions) to run linters, tests, and build checks automatically before merging pull requests.
- **Accessibility (a11y) Rules:** Add a rule requiring semantic HTML (e.g., using `<button>` instead of `<div onClick>`), `aria-labels` where necessary, and sufficient color contrast, ensuring premium projects remain accessible.
- **Performance Guidelines:** Add rules about lazy-loading images, code-splitting (e.g., `React.lazy`), and memoization to maintain high performance as the app scales.

## 4. Overall Developer Experience (DX)

- **Automated Lint Staged & Husky:** Install and configure Husky with lint-staged across all workflows to automatically format and lint code before every commit.
- **VS Code Workspace Settings:** Include a `.vscode/settings.json` file in the workflows to enforce formatting on save and suggest recommended extensions (like ESLint, Prettier, Tailwind CSS IntelliSense).
